var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function f(){return a(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}function g(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function h(t,n){for(let e=0;e<t.options.length;e+=1){const o=t.options[e];if(o.__value===n)return void(o.selected=!0)}}function v(t,n,e){t.classList[e?"add":"remove"](n)}let x;function y(t){x=t}function _(){if(!x)throw new Error("Function called outside component initialization");return x}function b(){const t=_();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n,e=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,!1,n),o}(n,e);o.slice().forEach((n=>{n.call(t,r)}))}}}const w=[],S=[],k=[],C=[],E=Promise.resolve();let A=!1;function M(t){k.push(t)}function z(t){C.push(t)}let G=!1;const I=new Set;function L(){if(!G){G=!0;do{for(let t=0;t<w.length;t+=1){const n=w[t];y(n),T(n.$$)}for(y(null),w.length=0;S.length;)S.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];I.has(n)||(I.add(n),n())}k.length=0}while(w.length);for(;C.length;)C.pop()();A=!1,G=!1,I.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(M)}}const N=new Set;function R(t,n){t&&t.i&&(N.delete(t),t.i(n))}function q(t,n,e,o){if(t&&t.o){if(N.has(t))return;N.add(t),undefined.c.push((()=>{N.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function O(t,n){t.d(1),n.delete(t.key)}function j(t,n,e,o,r,s,i,c,u,l,a,f){let d=t.length,p=s.length,m=d;const $={};for(;m--;)$[t[m].key]=m;const g=[],h=new Map,v=new Map;for(m=p;m--;){const t=f(r,s,m),c=e(t);let u=i.get(c);u?o&&u.p(t,n):(u=l(c,t),u.c()),h.set(c,g[m]=u),c in $&&v.set(c,Math.abs(m-$[c]))}const x=new Set,y=new Set;function _(t){R(t,1),t.m(c,a),i.set(t.key,t),a=t.first,p--}for(;d&&p;){const n=g[p-1],e=t[d-1],o=n.key,r=e.key;n===e?(a=n.first,d--,p--):h.has(r)?!i.has(o)||x.has(o)?_(n):y.has(r)?d--:v.get(o)>v.get(r)?(y.add(o),_(n)):(x.add(r),d--):(u(e,i),d--)}for(;d--;){const n=t[d];h.has(n.key)||u(n,i)}for(;p;)_(g[p-1]);return g}function B(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function H(t){t&&t.c()}function J(t,e,s,i){const{fragment:c,on_mount:u,on_destroy:l,after_update:a}=t.$$;c&&c.m(e,s),i||M((()=>{const e=u.map(n).filter(r);l?l.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(M)}function P(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function V(t,n){-1===t.$$.dirty[0]&&(w.push(t),A||(A=!0,E.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Y(n,r,s,i,c,l,a,f=[-1]){const d=x;y(n);const p=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:r.context||[]),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};a&&a(p.root);let m=!1;if(p.ctx=s?s(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return p.ctx&&c(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&V(n,t)),e})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();r.intro&&R(n.$$.fragment),J(n,r.target,r.anchor,r.customElement),L()}y(d)}class F{$destroy(){P(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const D={STAY_ALIVE:[2,3],BIRTH:[3]};function K(t,n){return t.map(((e,o)=>{const r=function(t,n){const e=[],o=[-1,0,1];for(let r of o)for(let s of o){let o=t+s+r*n.columns;o>=0&&o<n.columns*n.rows&&1===Q(t,o,n)&&e.push(o)}return e}(o,n).map((n=>Number(t[n]))).reduce(((t,n)=>t+n));return e?D.STAY_ALIVE.includes(r):D.BIRTH.includes(r)}))}function Q(t,n,{columns:e}){const o=Math.abs(Math.floor(t/e)-Math.floor(n/e)),r=Math.abs(t%e-n%e);return Math.max(r,o)}function U(t,n,e){const o=t.slice();return o[7]=n[e],o[8]=n,o[9]=e,o}function W(t,n){let e,o,r;function s(){return n[6](n[7],n[8],n[9])}return{key:t,first:null,c(){e=l("button"),p(e,"class","svelte-wz9a81"),v(e,"alive",n[7]),this.first=e},m(t,n){c(t,e,n),o||(r=d(e,"click",s),o=!0)},p(t,o){n=t,2&o&&v(e,"alive",n[7])},d(t){t&&u(e),o=!1,r()}}}function X(n){let e,o=[],r=new Map,s=n[1];const i=t=>t[9];for(let t=0;t<s.length;t+=1){let e=U(n,s,t),c=i(e);r.set(c,o[t]=W(c,e))}return{c(){e=l("div");for(let t=0;t<o.length;t+=1)o[t].c();g(e,"--numCols",n[0].columns),g(e,"--numRows",n[0].rows),p(e,"class","svelte-wz9a81")},m(t,n){c(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[n]){2&n&&(s=t[1],o=j(o,n,i,1,t,s,r,e,O,W,null,U)),1&n&&g(e,"--numCols",t[0].columns),1&n&&g(e,"--numRows",t[0].rows)},i:t,o:t,d(t){t&&u(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Z(t,n,e){let{size:o}=n,r=Array(o.columns*o.rows).fill(!1);return t.$$set=t=>{"size"in t&&e(0,o=t.size)},[o,r,()=>{e(1,r=K(r,o))},()=>{e(1,r=Array(o.columns*o.rows).fill(!1))},t=>e(1,r=function(t,{rows:n,columns:e}){const o=new Set(t.map((([t,n])=>n*e+t)));return Array(n*e).fill(0).map(((t,n)=>o.has(n)))}(t,o)),()=>function(t,{columns:n}){return t.map(((t,e)=>t?[e%n,Math.floor(e/n)]:[])).filter((t=>t.length))}(r,o),(t,n,o)=>{e(1,n[o]=!t,r)}]}class tt extends F{constructor(t){super(),Y(this,t,Z,X,s,{size:0,progressGeneration:2,reset:3,setState:4,getState:5})}get progressGeneration(){return this.$$.ctx[2]}get reset(){return this.$$.ctx[3]}get setState(){return this.$$.ctx[4]}get getState(){return this.$$.ctx[5]}}function nt(n){let e,r,s;return{c(){e=l("input"),p(e,"type","range"),p(e,"id",n[0]),p(e,"min",n[1]),p(e,"max",n[2]),p(e,"step",n[3])},m(t,o){c(t,e,o),$(e,n[4]),r||(s=[d(e,"change",n[6]),d(e,"input",n[6])],r=!0)},p(t,[n]){1&n&&p(e,"id",t[0]),2&n&&p(e,"min",t[1]),4&n&&p(e,"max",t[2]),8&n&&p(e,"step",t[3]),16&n&&$(e,t[4])},i:t,o:t,d(t){t&&u(e),r=!1,o(s)}}}function et(t,n,e){let{id:o}=n,{min:r}=n,{max:s}=n,{step:i}=n,{value:c}=n,u=s-c+i;return t.$$set=t=>{"id"in t&&e(0,o=t.id),"min"in t&&e(1,r=t.min),"max"in t&&e(2,s=t.max),"step"in t&&e(3,i=t.step),"value"in t&&e(5,c=t.value)},t.$$.update=()=>{28&t.$$.dirty&&e(5,c=s+i-u)},[o,r,s,i,u,c,function(){u=function(t){return""===t?null:+t}(this.value),e(4,u)}]}class ot extends F{constructor(t){super(),Y(this,t,et,nt,s,{id:0,min:1,max:2,step:3,value:5})}}function rt(t){let n,e,r,s,$,g,h,v,x,y,_,b,w,k,C,E=t[0]?"Stop":"Run";function A(n){t[6](n)}let M={id:"speed_slider",min:10,max:500,step:10};return void 0!==t[1]&&(M.value=t[1]),g=new ot({props:M}),S.push((()=>B(g,"value",A))),{c(){n=l("button"),n.textContent="Step",e=f(),r=l("div"),s=l("label"),s.textContent="Animation speed",$=f(),H(g.$$.fragment),v=f(),x=l("button"),y=a(E),_=f(),b=l("button"),b.textContent="Clear",p(n,"class","svelte-4vhvtq"),p(s,"for","speed_slider"),p(x,"class","svelte-4vhvtq"),p(b,"class","svelte-4vhvtq")},m(o,u){c(o,n,u),c(o,e,u),c(o,r,u),i(r,s),i(r,$),J(g,r,null),c(o,v,u),c(o,x,u),i(x,y),c(o,_,u),c(o,b,u),w=!0,k||(C=[d(n,"click",t[5]),d(x,"click",t[3]),d(b,"click",t[4])],k=!0)},p(t,[n]){const e={};!h&&2&n&&(h=!0,e.value=t[1],z((()=>h=!1))),g.$set(e),(!w||1&n)&&E!==(E=t[0]?"Stop":"Run")&&m(y,E)},i(t){w||(R(g.$$.fragment,t),w=!0)},o(t){q(g.$$.fragment,t),w=!1},d(t){t&&u(n),t&&u(e),t&&u(r),P(g),t&&u(v),t&&u(x),t&&u(_),t&&u(b),k=!1,o(C)}}}function st(t,n,e){const o=b();let{running:r}=n,{animationSpeed:s}=n;return t.$$set=t=>{"running"in t&&e(0,r=t.running),"animationSpeed"in t&&e(1,s=t.animationSpeed)},[r,s,o,()=>{e(0,r=!r)},()=>{e(0,r=!1),o("clear")},()=>o("step"),function(t){s=t,e(1,s)}]}class it extends F{constructor(t){super(),Y(this,t,st,rt,s,{running:0,animationSpeed:1})}}const ct=[{name:"Glider",coords:[[2,1],[3,2],[1,3],[2,3],[3,3]]},{name:"Toad",coords:[[1,3],[2,2],[2,3],[3,2],[3,3],[4,2]]},{name:"Glider gun",coords:[[1,5],[2,5],[1,6],[2,6],[11,5],[11,6],[11,7],[12,4],[12,8],[13,3],[13,9],[14,3],[14,9],[15,6],[16,4],[16,8],[17,5],[17,6],[17,7],[18,6],[21,3],[21,4],[21,5],[22,3],[22,4],[22,5],[23,2],[23,6],[25,1],[25,2],[25,6],[25,7],[35,3],[35,4],[36,3],[36,4]]}];function ut(t,n,e){const o=t.slice();return o[10]=n[e],o[12]=e,o}function lt(t,n){let e,o,r,s=n[10].name+"";return{key:t,first:null,c(){e=l("option"),o=a(s),e.__value=r=n[10],e.value=e.__value,this.first=e},m(t,n){c(t,e,n),i(e,o)},p(t,i){n=t,1&i&&s!==(s=n[10].name+"")&&m(o,s),1&i&&r!==(r=n[10])&&(e.__value=r,e.value=e.__value)},d(t){t&&u(e)}}}function at(n){let e,r,s,m,g,v,x,y,_,b,w,S,k,C,E,A,z,G,I=[],L=new Map,T=n[0];const N=t=>t[12];for(let t=0;t<T.length;t+=1){let e=ut(n,T,t),o=N(e);L.set(o,I[t]=lt(o,e))}return{c(){e=l("div"),r=l("label"),r.textContent="Select a configuration:",s=f(),m=l("div"),g=l("select");for(let t=0;t<I.length;t+=1)I[t].c();v=f(),x=l("button"),x.textContent="Load config",y=f(),_=l("details"),b=l("summary"),b.textContent="Save current configuration",w=f(),S=l("div"),k=l("input"),C=f(),E=l("button"),A=a("Save"),p(r,"for","stored_configs"),p(r,"class","svelte-1kaumh9"),p(g,"id","stored_configs"),void 0===n[2]&&M((()=>n[7].call(g))),p(m,"class","row svelte-1kaumh9"),p(b,"class","svelte-1kaumh9"),p(k,"type","text"),p(k,"placeholder","Enter configuration name"),E.disabled=n[3],p(S,"class","svelte-1kaumh9"),p(e,"class","svelte-1kaumh9")},m(t,o){c(t,e,o),i(e,r),i(e,s),i(e,m),i(m,g);for(let t=0;t<I.length;t+=1)I[t].m(g,null);h(g,n[2]),i(m,v),i(m,x),i(e,y),i(e,_),i(_,b),i(_,w),i(_,S),i(S,k),$(k,n[1]),i(S,C),i(S,E),i(E,A),z||(G=[d(g,"change",n[7]),d(x,"click",n[8]),d(k,"input",n[9]),d(E,"click",n[5])],z=!0)},p(t,[n]){1&n&&(T=t[0],I=j(I,n,N,1,t,T,L,g,O,lt,null,ut)),5&n&&h(g,t[2]),2&n&&k.value!==t[1]&&$(k,t[1]),8&n&&(E.disabled=t[3])},i:t,o:t,d(t){t&&u(e);for(let t=0;t<I.length;t+=1)I[t].d();z=!1,o(G)}}}function ft(t,n,e){const o=b();let r,s=ct,i="";var c;c=()=>{const t=localStorage.getItem("configs");t&&e(0,s=JSON.parse(t))},_().$$.on_mount.push(c);let{getConfig:u}=n;let l;return t.$$set=t=>{"getConfig"in t&&e(6,u=t.getConfig)},t.$$.update=()=>{3&t.$$.dirty&&e(3,l=!i||s.some((t=>t.name===i)))},[s,i,r,l,o,()=>{const t={name:i,coords:u()};e(0,s=[...s,t]),localStorage.setItem("configs",JSON.stringify(s)),e(1,i="")},u,function(){r=function(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}(this),e(2,r),e(0,s)},()=>o("change",r),function(){i=this.value,e(1,i)}]}class dt extends F{constructor(t){super(),Y(this,t,ft,at,s,{getConfig:6})}}function pt(t){let n,e,o,s,a,d,m,$,g,h,v,x,y,_,b;function w(n){t[5](n)}function k(n){t[6](n)}a=new tt({props:{size:{columns:40,rows:20}}}),t[4](a);let C={};return void 0!==t[1]&&(C.running=t[1]),void 0!==t[2]&&(C.animationSpeed=t[2]),$=new it({props:C}),S.push((()=>B($,"running",w))),S.push((()=>B($,"animationSpeed",k))),$.$on("clear",(function(){r(t[0].reset)&&t[0].reset.apply(this,arguments)})),$.$on("step",(function(){r(t[0].progressGeneration)&&t[0].progressGeneration.apply(this,arguments)})),_=new dt({props:{getConfig:t[7]}}),_.$on("change",t[8]),{c(){n=l("main"),e=l("h1"),e.textContent="Game of Life",o=f(),s=l("div"),H(a.$$.fragment),d=f(),m=l("div"),H($.$$.fragment),v=f(),x=l("hr"),y=f(),H(_.$$.fragment),p(e,"class","svelte-1748ntx"),p(x,"class","svelte-1748ntx"),p(s,"class","container svelte-1748ntx"),p(n,"class","svelte-1748ntx")},m(t,r){c(t,n,r),i(n,e),i(n,o),i(n,s),J(a,s,null),i(s,d),i(s,m),J($,m,null),i(m,v),i(m,x),i(m,y),J(_,m,null),b=!0},p(n,[e]){t=n;a.$set({});const o={};!g&&2&e&&(g=!0,o.running=t[1],z((()=>g=!1))),!h&&4&e&&(h=!0,o.animationSpeed=t[2],z((()=>h=!1))),$.$set(o);const r={};1&e&&(r.getConfig=t[7]),_.$set(r)},i(t){b||(R(a.$$.fragment,t),R($.$$.fragment,t),R(_.$$.fragment,t),b=!0)},o(t){q(a.$$.fragment,t),q($.$$.fragment,t),q(_.$$.fragment,t),b=!1},d(e){e&&u(n),t[4](null),P(a),P($),P(_)}}}function mt(t,n,e){let o,r,s=!1,i=300;return t.$$.update=()=>{15&t.$$.dirty&&(clearInterval(r),e(3,r=setInterval((()=>s&&o.progressGeneration()),i)))},[o,s,i,r,function(t){S[t?"unshift":"push"]((()=>{o=t,e(0,o)}))},function(t){s=t,e(1,s)},function(t){i=t,e(2,i)},()=>o.getState(),t=>o.setState(t.detail.coords)]}return new class extends F{constructor(t){super(),Y(this,t,mt,pt,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
